@import "tailwindcss";

/* Active la variante dark mode pour Tailwind v4 */
@variant dark (&:where(.dark, .dark *));

/* Variables CSS personnalisées */
:root {
  /* Light mode colors */
  --light-start: #f0eeea;
  --light-end: #F1ECE2;

  /* Dark mode colors */
  --dark-start: #020612;
  --dark-end: #050D20;

  /* Text colors */
  --text-light: #000000;
  --text-dark: #ffffff;

  /* Muted/Subtitle colors */
  --text-muted-light: #505050;
  --text-muted-dark: #c0c0c0;
}

/* Configuration du thème Tailwind v4 */
@theme inline {
  /* Couleurs custom */
  --color-light-start: var(--light-start);
  --color-light-end: var(--light-end);
  --color-dark-start: var(--dark-start);
  --color-dark-end: var(--dark-end);
  --color-text-light: var(--text-light);
  --color-text-dark: var(--text-dark);

  /* Polices - seront définies via next/font */
  --font-sans: var(--font-poppins);
  --font-mono: var(--font-chivo-mono);

  /* Border radius custom */
  --radius-custom: 10px;
}

/* Styles de base */
html,
body {
  font-family: var(--font-poppins), sans-serif;
  color: #000000; /* Couleur de texte par défaut (noir) */
  background-color: #f0eeea; /* Fond par défaut light pour éviter le blanc sur mobile */
  min-height: 100vh; /* Force la hauteur minimale */
  min-height: 100dvh; /* Utilise dvh pour gérer la barre d'URL mobile */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Transitions fluides pour le changement de thème - ciblées pour éviter les conflits */
body,
div,
section,
span,
p,
h1,
h2,
h3,
button,
a {
  transition: color 0.8s ease-in-out, background-color 1s ease-in-out, border-color 0.8s ease-in-out, background 1s ease-in-out;
}

/* Transitions plus rapides sur mobile - SEULEMENT pour color et border-color, PAS background */
@media (max-width: 640px) {
  body,
  div,
  section,
  span,
  p,
  h1,
  h2,
  h3,
  button,
  a {
    transition: color 0.3s ease-in-out, background-color 0.3s ease-in-out, border-color 0.3s ease-in-out, background 0.3s ease-in-out;
  }
}

/* Exception : pas de transition sur les animations Framer Motion */
[data-framer-component] {
  transition: none !important;
}

/* Dark mode (si la classe 'dark' est ajoutée à <html>) */
html.dark,
html.dark body {
  color: #ffffff;
  background-color: #020612; /* Fond dark pour éviter le blanc sur mobile */
}

/* Transition du background-color uniquement pour html/body */
html,
html.dark {
  transition: background-color 0.8s ease-in-out;
}

/* Classe utilitaire pour texte muted/subtitle */
.text-muted {
  color: var(--text-muted-light);
}

html.dark .text-muted {
  color: var(--text-muted-dark);
}

/* Gradients séparés pour la transition par opacité */
.bg-gradient-light {
  background: linear-gradient(135deg, #f0eeea 0%, #F1ECE2 100%);
}

.bg-gradient-dark {
  background: linear-gradient(135deg, #020612 0%, #050D20 100%);
}
